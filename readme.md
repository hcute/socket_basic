#  网络编程

## 软件结构

- C/S 结构：客户端/服务端结构，比如QQ
- B/S 结构：浏览器/服务器结构，常见浏览器，chrome，ie，火狐浏览器

## 网络通信协议

- 网络通信协议：通过计算机网络可以是多台计算机实现连接，位于同一个网络中的计算机进行连接和通信时需要遵守规则【传输格式，传输速率，传输步骤】等
- TCP/IP协议：传输控制协议，是Internet最基本，最广泛的协议，定义了计算机如何连接因特网，以及数据如何在它们之间传输的标准，采用了4层的风层模型，每一层都都呼叫它的下一层提供的协议来完成自己的需求
  - 应用层：Http，FTP，SMTP，TFTP，DNS，SNMP
  - 传输层：TCP，UDP，进行网络通讯
  - 网络层：ICMP，IGMP，IP，ARP，RARP，对传输数据进行分组，将分组数据发送到目标计算机或网络
  - 数据链路层/物理层：底层网络定义的协议，网线，光线等的协议

## 协议分类

- UDP：用户数据报协议，是无连接通讯协议，数据的发送端和接收端不需要建立连接。耗资小，效率高，一般用于视频会议等都适用UDP，偶尔会丢包，不能保证数据的完整性，一次发送数据大小为64Kb以内，超出这个范围就发送不去了

- TCP：传输控制协议，面向连接的通讯协议，通讯前先需要建立连接，可靠的无差错的连接，客户端向服务器发送数据，需要进行三次握手

  - 第一次握手：客户端发送连接请求，等待服务器确认
  - 第二次握手：服务端向客户端发送一个响应，通知客户端收到了连接请求
  - 第三次握手：客户端再次服务端发送确认信息，确认连接

  三次握手后，就可以进行安全的数据传输，比如文件上传，文件下载等

## 网络三要素

### 协议

- 计算机网络通信必须遵守的规则

### IP

- 互联网协议地址，给网络中的计算机设备做唯一的编号
- Ipv4：占用4个字节 0-255 之间的十进制数，大概42亿
- Ipv6：占用16个字节，号称可以给世界上每一粒沙子做一个编号
- 特殊的ip：127.0.0.1、localhost

### 端口号

- 用两个字节表示的整数 ，0-65535
- 是一个逻辑端口，当我们使用网络软件，操作系统会随机分配一个端口号，或者软件向系统要一个指定的端口号
- 注意：1024 之前的端口的我们不能使用，已被分配给已知的软件了，端口号在一个操作系统中是不能重复的
- 常用端口号：
  - 80：网络端口号
  - 数据库端口 3306 和 1521
  - Tomcat 8080

## TCP 通讯程序

- 概述
  - 两台计算机之间的通讯，客户端和服务端通讯
  - 先启动服务端程序，等待客户端的连接
  - 客户端主动连接服务器，连接成功才能通信，服务器不可以主动连接客户端
  - 连接中包含了一个IO对象
  - IO对象是字节流对象
  - 服务器端必须是多线程的
  - **服务器使用客户端的字节输入流读取客户端的数据，使用客户端的字节输出流发送数据**
  - 服务器端的accept 可以获取到客户端对象

 

